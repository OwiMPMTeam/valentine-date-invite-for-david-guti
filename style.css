:root{
  --ink:#141414;
  --pink:#ff6fae;

  /* outline colors */
  --yes:#8be9c3;
  --no:#ffb3d9;
  --primary:#b694ff;

  --card: rgba(255,255,255,0.62);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family:"Gluten", system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--ink);
  background:
    radial-gradient(circle at 10% 10%, rgba(255,170,214,0.35), transparent 45%),
    radial-gradient(circle at 85% 15%, rgba(178,232,255,0.35), transparent 50%),
    radial-gradient(circle at 55% 85%, rgba(200,170,255,0.30), transparent 55%),
    #fff;
  overflow:hidden;
}

.noise{
  position:fixed;
  inset:-30%;
  background-image:url("./assets/ui/noise.png");
  background-size:240px 240px;
  opacity:0.18;
  mix-blend-mode:multiply;
  pointer-events:none;
  animation: noiseFlicker .45s steps(2,end) infinite;
  z-index:0;
}
@keyframes noiseFlicker{
  0%{ transform:translate(0,0); }
  25%{ transform:translate(-1.6%,1.1%); }
  50%{ transform:translate(1.1%,-1.3%); }
  75%{ transform:translate(-1%,-.6%); }
  100%{ transform:translate(0,0); }
}

/* sparkles overlay */
.sparkles{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:9999;
  overflow:hidden;
}
.spark{
  position:absolute;
  transform:translate(-50%,-50%);
  opacity:0;
  animation: sparkleFall 9000ms ease-out forwards;
  filter: drop-shadow(0 12px 18px rgba(0,0,0,0.12));
}
.spark.s1{ font-size: 14px; }
.spark.s2{ font-size: 22px; }
.spark.s3{ font-size: 34px; }
.spark.s4{ font-size: 54px; }
.spark.s5{ font-size: 78px; }
@keyframes sparkleFall{
  0%{ opacity:0; transform:translate(-50%,-50%) scale(.2) rotate(-16deg); }
  10%{ opacity:1; transform:translate(-50%,-50%) scale(1.1) rotate(12deg); }
  85%{ opacity:.95; }
  100%{
    opacity:0;
    transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy) + 1100px)) scale(.95) rotate(70deg);
  }
}

/* screens */
.screen{
  position:fixed;
  inset:0;
  display:none;
  padding:22px;
  z-index:1;
  overflow:auto;
}
.screen.active{
  display:flex;
  align-items:center;
  justify-content:center;
}

.wrap{
  width:min(1100px, 94vw);
  position:relative;
  z-index:2;
  text-align:center;
}

.title{
  margin:0;
  font-size:clamp(34px, 5vw, 64px);
  line-height:1.0;
  letter-spacing:.2px;
  animation: jitter .65s steps(2,end) infinite;
}
@keyframes jitter{
  0%{ transform:translate(0,0) rotate(-.35deg); }
  50%{ transform:translate(.8px,-.4px) rotate(.45deg); }
  100%{ transform:translate(-.5px,.6px) rotate(-.2deg); }
}
.sub{
  margin:10px 0 0;
  font-size:18px;
  opacity:.85;
}
.tiny{
  margin-top:10px;
  font-size:14px;
  opacity:.72;
}

.pink{ color:var(--pink); }
.val{ color: rgba(255,110,130,0.95); }

.stroke{
  text-shadow:
    2px 0 0 #fff, -2px 0 0 #fff,
    0 2px 0 #fff, 0 -2px 0 #fff,
    1.5px 1.5px 0 #fff, -1.5px 1.5px 0 #fff,
    1.5px -1.5px 0 #fff, -1.5px -1.5px 0 #fff,
    0 12px 28px rgba(0,0,0,0.10);
}
.top{ position:relative; z-index:3; }

/* password */
.pwRow{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
  margin-top:14px;
}
.pwInput{
  width:min(420px, 78vw);
  padding:14px 14px;
  border-radius:16px;
  border:2px solid rgba(0,0,0,0.20);
  background:rgba(255,255,255,0.60);
  font-size:18px;
  outline:none;
}
.pwMsg{
  margin-top:12px;
  font-size:18px;
  min-height:24px;
}
.pwBg{
  position:fixed;
  inset:0;
  z-index:1; /* behind text (wrap is z=2) */
  pointer-events:none;
  display:flex;
  align-items:center;
  justify-content:center;
}
.pwBg img{
  width:min(1200px, 180vw);
  opacity:.18;
  transform:scale(3);
}

/* buttons - outline only */
.btn{
  font-family:"Gluten", system-ui;
  font-size:22px;
  padding:14px 22px;
  background:transparent;              /* IMPORTANT: no fill */
  border:none;
  cursor:pointer;
  border-radius:999px;
  position:relative;
  user-select:none;
  box-shadow: 20px 38px 34px -26px hsla(0,0%,0%,.20);
  transition: transform .2s ease, box-shadow .25s ease;
}
.btn:hover{ box-shadow: 2px 8px 4px -6px hsla(0,0%,0%,.30); }
.btn:active{ transform: scale(.98); }

.btn.lined.thick{
  border:7px solid currentColor;
  animation: btnJitter .85s steps(2,end) infinite;
}
@keyframes btnJitter{
  0%{ transform: rotate(-.2deg) translate(0,0); }
  50%{ transform: rotate(.35deg) translate(.7px,-.4px); }
  100%{ transform: rotate(-.1deg) translate(-.5px,.6px); }
}
.btnStroke{
  text-shadow:
    1.8px 0 0 #fff, -1.8px 0 0 #fff,
    0 1.8px 0 #fff, 0 -1.8px 0 #fff;
}

.yesOutline{ color: var(--yes); }
.noOutline{ color: var(--no); }
.primaryOutline{ color: var(--primary); }

/* cover stage */
.stage{
  position:relative;
  width:min(1100px, 94vw);
  height:min(680px, 76vh);
  margin:14px auto 0;
  display:flex;
  align-items:center;
  justify-content:center;
}
.decor, .usPhoto{
  position:absolute;
  pointer-events:none;
  border:none;
  outline:none;
  box-shadow:none;
  opacity:.92;
  will-change: transform;
}
.decor{
  width:340px;
  height:340px;
  object-fit:cover;
  border-radius:38px;
}
.usPhoto{
  width:360px;
  height:480px;
  object-fit:cover;
  border-radius:0;                    /* sharp corners like polaroid photo */
  box-shadow:0 22px 48px rgba(0,0,0,0.14);
}
.d1{ left:-18%; top:-6%; transform: rotate(-7deg); }
.d2{ right:-22%; bottom:-14%; transform: rotate(8deg); }
.d3{ right:22%; top:-22%; transform: rotate(-5deg); }
.u1{ left:4%; bottom:-22%; transform: rotate(4deg); }

.letterBtn{
  background:transparent;
  border:none;
  padding:0;
  cursor:pointer;
  position:relative;
  z-index:3;
  width:min(560px, 92vw);
  aspect-ratio: 4 / 3;
  display:flex;
  align-items:center;
  justify-content:center;
}
.letterImg{
  width:100%;
  height:auto;
  display:block;
  filter:
    drop-shadow( 2px 0 0 #fff)
    drop-shadow(-2px 0 0 #fff)
    drop-shadow( 0 2px 0 #fff)
    drop-shadow( 0 -2px 0 #fff)
    drop-shadow(0 18px 35px rgba(0,0,0,0.12));
}
.tap{
  position:absolute;
  bottom:-10px;
  left:50%;
  transform:translateX(-50%);
  font-size:18px;
}

/* hover parallax: subtle lift */
.letterBtn:hover{ transform: translateY(-2px) rotate(-.3deg); }

/* question */
.qBg{
  position:fixed;
  inset:0;
  z-index:0;
  overflow:hidden;
}
.qBg img{
  width:100%;
  height:100%;
  object-fit:cover;
  transform:scale(1.03);
}
.qWrap{ z-index:2; }

.btnRow{
  display:flex;
  gap:14px;
  justify-content:center;
  align-items:center;
  flex-wrap:wrap;
  margin-top:18px;
}
.rageLine{
  margin-top:12px;
  font-size:18px;
  min-height:26px;
}

/* schedule */
.scheduleGrid{
  margin-top:16px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:16px;
  align-items:start;
}
@media (max-width: 900px){
  .scheduleGrid{ grid-template-columns: 1fr; }
}

.scheduleCard{
  background:var(--card);
  border:2px solid rgba(0,0,0,0.12);
  border-radius:24px;
  padding:16px;
  backdrop-filter: blur(6px);
  text-align:left;
}
.scheduleName{
  font-size:30px;
  line-height:1.0;
  margin-bottom:6px;
}
.scheduleDesc{ font-size:18px; opacity:.78; margin-top:6px; }

.polaroids{
  position:relative;
  min-height:380px;
}
.polaroid{
  position:absolute;
  width:200px;
  height:260px;
  background:rgba(255,255,255,0.55);
  border:3px solid rgba(0,0,0,0.14);
  border-radius:18px;          /* frame can be slightly rounded */
  padding:12px;
  box-shadow:0 18px 40px rgba(0,0,0,0.10);
}
.polaroid img{
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:0;             /* IMPORTANT: sharp corners for photo */
  display:block;
}

/* spread them more so they donâ€™t hide each other */
.p1{ left: 8px;   top: 14px;  transform: rotate(-5deg); }
.p2{ right: 10px; top: 34px;  transform: rotate(6deg); }
.p3{ left: 70px;  bottom: 14px; transform: rotate(3deg); }
.p4{ right: 70px; bottom: 18px; transform: rotate(-4deg); }

.center{ display:flex; justify-content:center; margin-top:18px; }

/* gift */
.giftWrap{ text-align:center; }
.giftGif{
  width:min(520px, 92vw);
  margin-top:12px;
  border-radius:22px;
  box-shadow:0 22px 55px rgba(0,0,0,0.14);
  animation: popIn .6s ease-out both;
}
@keyframes popIn{
  from{ transform:scale(.92); opacity:0; }
  to{ transform:scale(1); opacity:1; }
}
